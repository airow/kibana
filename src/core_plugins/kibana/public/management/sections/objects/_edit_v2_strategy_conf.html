<div class="modal-header" style="padding-bottom:5px; padding-top:5px;">
  <h3 class="modal-title">{{strategy.name}}</h3>
</div>
<div class="modal-body" style="padding:0px;">
    <div class="col-lg-12 col-sm-12 col-xs-12">
      <div class="btn-group" style="margin-right: 3px;" ng-if="strategy.key=='expression' || strategy.key=='custom'" ng-repeat="conf in strategyConf track by $index">
        <button class="btn btn-primary" ng-class="{'btn-primary':current==conf}" ng-click="setCurrent(conf)">{{$index+1}}
          {{conf.display}}</button>
        <button class="btn btn-danger"  ng-if="current==conf" ng-click="remove(strategyConf, $index)">
          <span class="fa fa-remove" aria-hidden="true"></span>
        </button>
      </div>
      <div class="btn-group">
        <button class="btn btn-success" ng-click="add(strategyConf)">
          <span class="fa fa-plus" aria-hidden="true"></span>
      </button>
      </div>
    </div>
    <div ng-if="strategy.key=='expression'">
      <div class="col-lg-6 col-sm-6 col-xs-6">
        <form role="form-inline" name="objectForm">
          <div class="form-group">
            <label>名称</label>
            <input type="text" ng-model="current.display" class="form-control span12" />
          </div>
          <div class="form-group ccccc">
            <div ui-ace="{ onLoad: aceLoaded, mode: 'Javascript'}" ng-model="current.expression.body" class="form-control">
            </div>
          </div>
        </form>
      </div>
      <div class="col-lg-6 col-sm-6 col-xs-6">
        <div class="form-group">
          <label>内容</label>
          <textarea style="height: 500px;" readonly disabled class="form-control span12">function(value, row, fieldName){
        {{current.expression.body}}
        }</textarea>
        </div>
      </div>
    </div>
    <div ng-if="strategy.key=='custom'">
      <div class="col-lg-6 col-sm-6 col-xs-6">
        <form role="form-inline" name="objectForm">
          <div class="form-group">
            <label>名称</label>
            <input type="text" ng-model="current.display" class="form-control span12" />
          </div>
          <div class="form-group ccccc">
            <div ui-ace="{ onLoad: aceLoaded, mode: 'Javascript'}" ng-model="current.custom.fun" class="form-control">
            </div>
          </div>
        </form>
      </div>
      <div class="col-lg-6 col-sm-6 col-xs-6">
        <div class="form-group">
          <label>内容</label>
          <textarea style="height: 500px;" readonly disabled class="form-control span12">function(value, row, fieldName){
            {{current.custom.fun}}
            }</textarea>
        </div>
      </div>
    </div>
    <div ng-if="strategy.key=='ranges' || strategy.key=='thresholds' || strategy.key=='enumeration'">
      <!-- ranges -->
      <div ng-if="strategy.key=='ranges'" class="col-lg-12 col-sm-12 col-xs-12" ng-repeat="eachItem in current[strategy.key] track by $index">
        <div class="col-lg-2 col-sm-2 col-xs-2">
          <select ng-model="eachItem.rangeFirstChar"
            ng-options="item.value as item.text for item in [{text:'大于',value:'['},{text:'大于等于',value:'('}]"></select>
        </div>
        <div class="col-lg-2 col-sm-2 col-xs-2">
          <input type="text" ng-model="eachItem.rangeLeftVal" class="form-control span12" />
        </div>
        <div class="col-lg-2 col-sm-2 col-xs-2">
          <select ng-model="eachItem.rangeLastChar" ng-options="item.value as item.text for item in [{text:'小于',value:']'},{text:'小于等于',value:')'}]"></select>
        </div>
        <div class="col-lg-2 col-sm-2 col-xs-2">
          <input type="text" ng-model="eachItem.rangeRightVal" class="form-control span12" />
        </div>
        <div class="col-lg-2 col-sm-2 col-xs-2">
          <input type="text" ng-model="eachItem.color" class="form-control span12" />
        </div>
      </div>
      <!-- thresholds -->
      <div ng-if="strategy.key=='thresholds'" class="col-lg-12 col-sm-12 col-xs-12" ng-repeat="eachItem in current[strategy.key] track by $index">
        <div class="col-lg-2 col-sm-2 col-xs-2">
          <input type="number" ng-model="eachItem.value" class="form-control span12" />
        </div>
        <div class="col-lg-2 col-sm-2 col-xs-2">
          <input type="text" ng-model="eachItem.color" class="form-control span12" />
        </div>
      </div>
    </div>
</div>
<div class="modal-footer" style="padding-bottom:5px; padding-top:5px;">
  <button class="btn btn-primary" ng-click="ok()">关闭</button>
  <button class="btn btn-warning" ng-click="cancel()">取消</button>
</div>
